INHERIT += "rm_work"

MACHINE = "raspberrypi4" 
TMPDIR .= "-${BB_CURRENT_MC}"

INIT_MANAGER = "systemd"
DISTRO_FEATURES:append = " systemd "
VIRTUAL-RUNTIME:init_manager = "systemd"
VIRTUAL-RUNTIME:initscripts = ""


LICENSE_FLAGS_ACCEPTED = "synaptics-killswitch"
IMAGE_FSTYPES += " ext4.gz wic "
WKS_FILE += "ts-raspberrypi.wks"

ENABLE_UART = "1"
RPI_USE_U_BOOT = "1"

CORE_IMAGE_EXTRA_INSTALL += "swupdate swupdate-www swupdate-progress u-boot-fw-utils"

# SWUpdate configuration
PREFERRED_PROVIDER_u-boot-fw-utils = "libubootenv"